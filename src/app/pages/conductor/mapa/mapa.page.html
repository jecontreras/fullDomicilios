<!-- <ion-header>
  <ion-toolbar>
    <ion-title>home</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>

  <ion-button slot="fixed" id="btnexit" fill="clear" color="dark" (click)="exit()" *ngIf="!disabledInfo">
    <ion-icon name="arrow-back-circle-outline"></ion-icon>
  </ion-button>

  <ion-list detail *ngIf="listOfertas.length > 0">
    <ion-list-header>
      Notificaciones
    </ion-list-header>

    <ion-item *ngFor="let item of listOfertas">
      <ion-avatar slot="start">
        <img [src]="item.foto || './assets/perfil.png'">
      </ion-avatar>
      <ion-text *ngIf="item.ofreceCliente" (click)="btnConductor(item)" color="dark">
        <ion-label>
          <p> {{ item['usuario']?.nombre | slice: 0: 20 }} </p>
          <p> Destino {{ item['titulo'] }} </p>
          <p> Tengo ${{ ( item['ofreceCliente'] || 0 ).toLocaleString(1) }} COP </p>
        </ion-label>
      </ion-text>
    </ion-item>
  </ion-list>

  <!-- <ion-button slot="fixed" id="btnRefres" fill="clear" color="dark" (click)="resetInit()" *ngIf="!disabledInfo">
    <ion-icon name="refresh-circle-outline"></ion-icon>
  </ion-button> -->

  <div class="mapa" id="mapa"></div>

</ion-content>
<ion-footer *ngIf="disabled">
  <ion-toolbar class="ion-padding">
    <ion-label> {{ data.destino | slice: 0: 150 }} </ion-label>
    <ion-input class="ion-color-lavel" [(ngModel)]="data.ofreces" [disabled]="disabledConfirm" placeholder="Cuanto ofreces" required type="text">
    </ion-input>
    <ion-label> {{ data.descripcion | slice: 0: 150 }} </ion-label>
    <ion-button [disabled]="disableBtn" *ngIf="disabledOpt == 'conductor'" color="primary" fill="clear" expand="full" (click)="submitOfreciendo()" class="ion-padding ion-text-center">Responder</ion-button>
    <!-- <ion-button color="danger" fill="clear" expand="full" (click)="solicitar()" class="ion-padding ion-text-center">Cerrar</ion-button> -->
  </ion-toolbar>
</ion-footer>

<ion-footer *ngIf="disabledInfo">
  <ion-toolbar class="ion-padding">
    <ion-label>
      <p>Destino {{ infoCliente.titulo }} Costo ${{ ( infoCliente['idOfertando']?.ofrece || 0 ).toLocaleString(1) }} COP</p>
      <p>Numero de contacto +{{ infoCliente.usuario.indicativo }} {{ infoCliente.usuario.celular }}</p>
    </ion-label>
    <ion-button [disabled]="disableBtnInfo" color="success" expand="full" (click)="finalizarServicio()" class="ion-padding ion-text-center">Finalizar servicio</ion-button>
  </ion-toolbar>
</ion-footer>